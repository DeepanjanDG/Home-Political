<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Organisational Setup - Home (Political) Department</title>
  <link rel="stylesheet" href="css/acts.css" />
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@600;700&family=Roboto:wght@400;500&family=Noto+Sans+Devanagari:wght@400;500;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <!-- PDF.js libraries -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.12.313/pdf.min.js"></script>
  <style>
    /* Additional styles for PDF viewer */
    .pdf-container {
      width: 100%;
      height: 80vh;
      border: 1px solid #ddd;
      border-radius: 8px;
      margin: 20px 0;
      overflow: hidden;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }
    
    #pdf-viewer {
      width: 100%;
      height: 100%;
      border: none;
    }
    
    .pdf-controls {
      display: flex;
      justify-content: center;
      gap: 10px;
      margin-bottom: 20px;
    }
    
    .pdf-control-btn {
      background: var(--secondary-color);
      color: white;
      border: none;
      padding: 8px 15px;
      border-radius: 4px;
      cursor: pointer;
      font-size: 14px;
      transition: background 0.3s;
    }
    
    .pdf-control-btn:hover {
      background: var(--primary-color);
    }
    
    .page-info {
      text-align: center;
      margin: 10px 0;
      color: var(--text-color);
    }
    
    @media (max-width: 768px) {
      .pdf-container {
        height: 60vh;
      }
      
      .pdf-controls {
        flex-wrap: wrap;
      }
    }
  </style>
</head>
<body>
  <!-- Accessibility Toolbar (same as previous) -->
  <div class="utility-bar">
    <!-- Same utility bar content as in acts.html -->
  </div>

  <!-- Header (same as previous) -->
  <header>
    <div class="topbar">
      <div class="container">
        <div class="logo-title-container">
          <a href="index.html" class="logo-link">
            <img src="images/Emblem_of_Meghalaya.svg.png" alt="Department Logo" class="logo">
          </a>
          <h1 class="english-content">
            Home (Political) Department<br>
            <span>Government of Meghalaya</span>
          </h1>
          <h1 class="hindi-content" style="display:none">
            गृह (राजनीतिक) विभाग<br>
            <span>मेघालय सरकार</span>
          </h1>
        </div>
      </div>
    </div>
    <nav>
      <ul class="english-content">
        <li><a href="index.html">Home</a></li>
        <li><a href="notification.html">Notifications</a></li>
        <li><a href="acts.html">Acts</a></li>
        <li><a href="organisational-setup.html" class="active">Organisational Setup</a></li>
        <li><a href="about.html">About Us</a></li>
        <li><a href="contact.html">Contact Us</a></li>
      </ul>
      <ul class="hindi-content" style="display:none">
        <li><a href="index.html">होम</a></li>
        <li><a href="notification.html">अधिसूचनाएं</a></li>
        <li><a href="acts.html">अधिनियम</a></li>
        <li><a href="organisational-setup.html" class="active">संगठनात्मक संरचना</a></li>
        <li><a href="about.html">हमारे बारे में</a></li>
        <li><a href="contact.html">संपर्क करें</a></li>
      </ul>
    </nav>
  </header>

  <!-- Main Content -->
  <div class="main-wrapper">
    <main id="main-content">
      <!-- English Content -->
      <div class="english-content">
        <section class="hero">
          <h2>Organisational Setup</h2>
        </section>

        <div class="main-content-with-sidebar">
          <!-- Sidebar -->
          <aside class="sidebar">
            <div class="sidebar-section">
              <h3>Quick Links</h3>
              <ul>
                <li><a href="meghalayadayaward.html" class="sidebar-link">
                  <span>Meghalaya Day Award</span>
                </a></li>
                <li><a href="scheme.html" class="sidebar-link">
                  <span>Schemes</span>
                </a></li>
                <li><a href="acts.html" class="sidebar-link">
                  <span>Acts</span>
                </a></li>
                <li><a href="organisational-setup.html" class="sidebar-link active">
                  <span>Organisational Setup</span>
                </a></li>
              </ul>
            </div>
          </aside>

          <!-- Main Content -->
          <div class="main-content">
            <section class="content-section">
              <h2>Department Hierarchy</h2>
              
              <div class="pdf-controls">
                <button class="pdf-control-btn" id="prev-page">
                  <i class="fas fa-arrow-left"></i> Previous
                </button>
                <span class="page-info">
                  Page <span id="page-num">1</span> of <span id="page-count">1</span>
                </span>
                <button class="pdf-control-btn" id="next-page">
                  Next <i class="fas fa-arrow-right"></i>
                </button>
                <button class="pdf-control-btn" id="zoom-in">
                  <i class="fas fa-search-plus"></i> Zoom In
                </button>
                <button class="pdf-control-btn" id="zoom-out">
                  <i class="fas fa-search-minus"></i> Zoom Out
                </button>
                <a href="Org_Setup/Organisational_setup.pdf" class="pdf-control-btn" download>
                  <i class="fas fa-download"></i> Download
                </a>
              </div>
              
              <div class="pdf-container">
                <canvas id="pdf-viewer"></canvas>
              </div>
              
              <div class="document-info english-content">
                <p>This document outlines the organisational structure of the Home (Political) Department, Government of Meghalaya.</p>
              </div>
            </section>
          </div>
        </div>
      </div>

      <!-- Hindi Content -->
      <div class="hindi-content" style="display:none">
        <section class="hero">
          <h2>संगठनात्मक संरचना</h2>
        </section>

        <div class="main-content-with-sidebar">
          <!-- Sidebar -->
          <aside class="sidebar">
            <div class="sidebar-section">
              <h3>त्वरित लिंक</h3>
              <ul>
                <li><a href="meghalayadayaward.html" class="sidebar-link">
                  <span>मेघालय दिवस पुरस्कार</span>
                </a></li>
                <li><a href="scheme.html" class="sidebar-link">
                  <span>योजनाएं</span>
                </a></li>
                <li><a href="acts.html" class="sidebar-link">
                  <span>अधिनियम</span>
                </a></li>
                <li><a href="organisational-setup.html" class="sidebar-link active">
                  <span>संगठनात्मक संरचना</span>
                </a></li>
              </ul>
            </div>
          </aside>

          <!-- Main Content -->
          <div class="main-content">
            <section class="content-section">
              <h2>विभाग पदानुक्रम</h2>
              
              <div class="pdf-controls">
                <button class="pdf-control-btn" id="prev-page-hi">
                  <i class="fas fa-arrow-left"></i> पिछला
                </button>
                <span class="page-info">
                  पृष्ठ <span id="page-num-hi">1</span> का <span id="page-count-hi">1</span>
                </span>
                <button class="pdf-control-btn" id="next-page-hi">
                  अगला <i class="fas fa-arrow-right"></i>
                </button>
                <button class="pdf-control-btn" id="zoom-in-hi">
                  <i class="fas fa-search-plus"></i> ज़ूम इन
                </button>
                <button class="pdf-control-btn" id="zoom-out-hi">
                  <i class="fas fa-search-minus"></i> ज़ूम आउट
                </button>
                <a href="Org_Setup/Organisational_setup.pdf" class="pdf-control-btn" download>
                  <i class="fas fa-download"></i> डाउनलोड
                </a>
              </div>
              
              <div class="pdf-container">
                <canvas id="pdf-viewer-hi"></canvas>
              </div>
              
              <div class="document-info hindi-content">
                <p>यह दस्तावेज़ मेघालय सरकार के गृह (राजनीतिक) विभाग की संगठनात्मक संरचना को दर्शाता है।</p>
              </div>
            </section>
          </div>
        </div>
      </div>
    </main>
  </div>

  
  <footer>
    <div class="footer-main">
      <div class="footer-copy english-content">
        <p>Site Designed and Maintained by National Informatics Centre, Meghalaya State Centre.</p>
        <p>&copy; 2023 Home (Political) Department, Meghalaya</p>
        <img src="images/NIC_logo.svg.png" alt="NIC Logo" class="nic-logo">
      </div>
      <div class="footer-copy hindi-content" style="display:none">
        <p>साइट का डिजाइन और रखरखाव राष्ट्रीय सूचना विज्ञान केंद्र, मेघालय राज्य केंद्र द्वारा किया गया है।</p>
        <p>&copy; 2023 गृह (राजनीतिक) विभाग, मेघालय</p>
        <img src="images/NIC_logo.svg.png" alt="NIC Logo" class="nic-logo">
      </div>
      <div class="footer-sections english-content">
        <div class="footer-section">
          <h4>Important Links</h4>
          <ul>
            <li><a href="#">RTI</a></li>
            <li><a href="#">Tenders</a></li>
            <li><a href="#">Downloads</a></li>
          </ul>
        </div>
        <div class="footer-section">
          <h4>Quick Access</h4>
          <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="about.html">About Us</a></li>
            <li><a href="contact.html">Contact</a></li>
          </ul>
        </div>
        <div class="footer-section">
          <h4>Other Resources</h4>
          <ul>
            <li><a href="#">Sitemap</a></li>
            <li><a href="#">Help</a></li>
            <li><a href="#">Feedback</a></li>
          </ul>
        </div>
      </div>
      <div class="footer-sections hindi-content" style="display:none">
        <div class="footer-section">
          <h4>महत्वपूर्ण लिंक</h4>
          <ul>
            <li><a href="#">सूचना का अधिकार</a></li>
            <li><a href="#">टेंडर</a></li>
            <li><a href="#">डाउनलोड</a></li>
          </ul>
        </div>
        <div class="footer-section">
          <h4>त्वरित पहुंच</h4>
          <ul>
            <li><a href="index.html">होम</a></li>
            <li><a href="about.html">हमारे बारे में</a></li>
            <li><a href="contact.html">संपर्क</a></li>
          </ul>
        </div>
        <div class="footer-section">
          <h4>अन्य संसाधन</h4>
          <ul>
            <li><a href="#">साइटमैप</a></li>
            <li><a href="#">सहायता</a></li>
            <li><a href="#">प्रतिक्रिया</a></li>
          </ul>
        </div>
      </div>
    </div>
  </footer>

  <script>
    // Initialize PDF.js
    pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.12.313/pdf.worker.min.js';
    
    // English PDF Viewer
    let pdfDoc = null,
        pageNum = 1,
        pageRendering = false,
        pageNumPending = null,
        scale = 1.0,
        canvas = document.getElementById('pdf-viewer'),
        ctx = canvas.getContext('2d');
    
    // Hindi PDF Viewer (separate instance)
    let pdfDocHi = null,
        pageNumHi = 1,
        canvasHi = document.getElementById('pdf-viewer-hi'),
        ctxHi = canvasHi.getContext('2d');
    
    // Render the page
    function renderPage(num, pdfDocument, canvasElement, context) {
      pageRendering = true;
      
      pdfDocument.getPage(num).then(function(page) {
        const viewport = page.getViewport({ scale: scale });
        canvasElement.height = viewport.height;
        canvasElement.width = viewport.width;
        
        const renderContext = {
          canvasContext: context,
          viewport: viewport
        };
        
        const renderTask = page.render(renderContext);
        
        renderTask.promise.then(function() {
          pageRendering = false;
          if (pageNumPending !== null) {
            renderPage(pageNumPending, pdfDocument, canvasElement, context);
            pageNumPending = null;
          }
        });
      });
      
      if (pdfDocument === pdfDoc) {
        document.getElementById('page-num').textContent = num;
      } else {
        document.getElementById('page-num-hi').textContent = num;
      }
    }
    
    // Queue rendering of the next page
    function queueRenderPage(num, pdfDocument, canvasElement, context, lang) {
      if (pageRendering) {
        pageNumPending = num;
      } else {
        renderPage(num, pdfDocument, canvasElement, context);
        if (lang === 'en') {
          pageNum = num;
        } else {
          pageNumHi = num;
        }
      }
    }
    
    // Previous page
    function onPrevPage(pdfDocument, currentPage, canvasElement, context, lang) {
      if (currentPage <= 1) {
        return;
      }
      currentPage--;
      queueRenderPage(currentPage, pdfDocument, canvasElement, context, lang);
    }
    
    // Next page
    function onNextPage(pdfDocument, currentPage, pageCount, canvasElement, context, lang) {
      if (currentPage >= pageCount) {
        return;
      }
      currentPage++;
      queueRenderPage(currentPage, pdfDocument, canvasElement, context, lang);
    }
    
    // Zoom in
    function zoomIn() {
      scale *= 1.1;
      if (pdfDoc) {
        queueRenderPage(pageNum, pdfDoc, canvas, ctx, 'en');
      }
      if (pdfDocHi) {
        queueRenderPage(pageNumHi, pdfDocHi, canvasHi, ctxHi, 'hi');
      }
    }
    
    // Zoom out
    function zoomOut() {
      scale /= 1.1;
      if (scale < 0.5) scale = 0.5;
      if (pdfDoc) {
        queueRenderPage(pageNum, pdfDoc, canvas, ctx, 'en');
      }
      if (pdfDocHi) {
        queueRenderPage(pageNumHi, pdfDocHi, canvasHi, ctxHi, 'hi');
      }
    }
    
    // Load the PDF
    function loadPdf(url, pdfDocumentVar, pageCountElement, lang) {
      pdfjsLib.getDocument(url).promise.then(function(pdfDoc_) {
        if (lang === 'en') {
          pdfDoc = pdfDoc_;
        } else {
          pdfDocHi = pdfDoc_;
        }
        
        document.getElementById(pageCountElement).textContent = pdfDoc_.numPages;
        
        // Render the first page
        renderPage(1, pdfDoc_, 
                  lang === 'en' ? canvas : canvasHi, 
                  lang === 'en' ? ctx : ctxHi);
      }).catch(function(error) {
        console.error('Error loading PDF:', error);
        alert('Error loading PDF. Please try again later.');
      });
    }
    
    // Initialize the PDF viewer when DOM is loaded
    document.addEventListener('DOMContentLoaded', function() {
      // Load the PDF for both languages
      loadPdf('Org_Setup/Organisational_setup.pdf', pdfDoc, 'page-count', 'en');
      loadPdf('Org_Setup/Organisational_setup.pdf', pdfDocHi, 'page-count-hi', 'hi');
      
      // Event listeners for English controls
      document.getElementById('prev-page').addEventListener('click', function() {
        onPrevPage(pdfDoc, pageNum, canvas, ctx, 'en');
      });
      
      document.getElementById('next-page').addEventListener('click', function() {
        onNextPage(pdfDoc, pageNum, pdfDoc.numPages, canvas, ctx, 'en');
      });
      
      // Event listeners for Hindi controls
      document.getElementById('prev-page-hi').addEventListener('click', function() {
        onPrevPage(pdfDocHi, pageNumHi, canvasHi, ctxHi, 'hi');
      });
      
      document.getElementById('next-page-hi').addEventListener('click', function() {
        onNextPage(pdfDocHi, pageNumHi, pdfDocHi.numPages, canvasHi, ctxHi, 'hi');
      });
      
      // Zoom controls (shared between both)
      document.getElementById('zoom-in').addEventListener('click', zoomIn);
      document.getElementById('zoom-out').addEventListener('click', zoomOut);
      document.getElementById('zoom-in-hi').addEventListener('click', zoomIn);
      document.getElementById('zoom-out-hi').addEventListener('click', zoomOut);
      
      // Same language toggling JavaScript as in acts.html
      // ...
    });
  </script>
</body>
</html>